# Intelligent Music Recommendation System

## System Overview

This AI music system functions as an intelligent DJ, combining symbolic reasoning, search algorithms, optimization techniques, and machine learning to create adaptive, personalized music experiences. The system begins by capturing user preferences through interactive selection, building a propositional knowledge base that models listening patterns as logical rules. Using these constraints, a search-based playlist generator explores the music catalog to create coherent playlists that match user tastes and desired moods.

The system then applies simulated annealing to optimize playlist flow, ensuring smooth transitions in tempo, key, and energy. Natural language processing analyzes song lyrics to extract mood and thematic labels, enriching the catalog with emotional context. A reinforcement learning agent continuously adapts recommendations based on user interactions—learning from skips, replays, and listening duration to refine future suggestions.

Finally, a convolutional neural network trained with triplet loss generates audio embeddings, enabling content-based similarity search. Users can explore melodic and acoustic relationships by selecting any song and discovering similar tracks through vector distance calculations. This progression from logical reasoning to deep learning demonstrates how diverse AI techniques address complementary aspects of music recommendation, creating a showcase of intelligent music curation that learns, adapts, and discovers.

## Modules

### Module 1: User Preference Modeling

**Topics:** Propositional Logic (Knowledge Bases, Inference, CNF)

**Input:** JSON object containing onboarding selections including favorite/disliked genres, preferred artists, and audio feature preferences (tempo range, energy level, acousticness).

**Output:** Logical formula in CNF representing the user's preference model. Each clause is a disjunction connected by conjunctions, creating a knowledge base that can be used for filtering and recommendation decisions.

**Integration:** The CNF knowledge base serves as the foundation for the entire system. Module 2 uses it to filter the music catalog before playlist generation, ensuring all subsequent modules work with preference-aligned content.

**Prerequisites:** Propositional logic concepts including knowledge representation, logical inference, and CNF conversion. No prior module dependencies.

---

### Module 2: Playlist Generation via Search

**Topics:** Search Algorithms (A*, Beam Search, Heuristic Design)

**Input:** Filtered catalog of songs (pre-filtered by Module 1's CNF rules) with metadata including title, artist, genre, mood, tempo, key, and energy. Playlist request specifying target theme, mood, genre, desired length, and optional seed songs.

**Output:** Ordered playlist of songs matching the request criteria, along with metadata including theme match score, diversity score, and the search algorithm used.

**Integration:** Consumes the preference-filtered catalog from Module 1, ensuring all generated playlists respect user preferences. The output playlist feeds directly into Module 3 for optimization and can be enhanced by mood labels from Module 4.

**Prerequisites:** Search algorithms including uninformed search (BFS, DFS, uniform cost) and informed search (heuristics, A*, beam search). Depends on Module 1 for preference filtering.

---

### Module 3: Playlist Optimization via Simulated Annealing

**Topics:** Advanced Search/Optimization (Simulated Annealing, Local Search, Optimization)

**Input:** Playlist of songs with metadata including tempo, key, energy level, and mood labels. Songs are provided in the order generated by Module 2.

**Output:** Reordered playlist optimized for listening flow, along with optimization metrics showing initial flow score, final flow score, and improvement percentage.

**Integration:** Takes playlists from Module 2 and enhances them through intelligent reordering. The optimized playlist becomes the final playback sequence, potentially incorporating mood labels from Module 4 when available. Module 5's adaptive agent can request re-optimization based on user feedback.

**Prerequisites:** Advanced search techniques including hill climbing, simulated annealing, and optimization fundamentals. Depends on Module 2 for input playlists.

---

### Module 4: Lyrics Analysis & Mood Classification

**Topics:** Natural Language Processing (n-grams, Word Embeddings, Text Classification)

**Input:** List of songs with metadata including song ID, title, artist, and lyrics (null for instrumental tracks).

**Output:** Analyzed songs with multi-label mood classifications, extracted themes, numerical sentiment scores (-1 to 1), and explicit content boolean flags.

**Integration:** Enriches the music catalog with emotional context used throughout the system. Module 2 can incorporate mood constraints into playlist generation, Module 3 considers mood flow during optimization, and Module 5's adaptive agent uses mood labels to refine real-time recommendations based on user context.

**Prerequisites:** Natural Language Processing fundamentals including text representation (n-grams, word embeddings) and classification techniques. No module dependencies; can analyze catalog independently.

---

### Module 5: Adaptive Playlist Agent

**Topics:** Reinforcement Learning (Q-Learning, MDP, Policy, Value Functions)

**Input:** Session state containing previously played songs and user interaction history (actions and listen durations), current mood context, and candidate songs with metadata including mood labels and audio features.

**Output:** Single recommended song with its Q-value and exploration flag indicating whether the recommendation prioritizes discovery or familiarity.

**Integration:** Operates as the system's intelligent recommendation engine during active listening sessions. Leverages user preferences from Module 1, mood labels from Module 4, and can dynamically request playlist generation from Module 2 or optimization from Module 3 based on learned patterns. Provides personalized, context-aware recommendations that evolve with user behavior.

**Prerequisites:** Reinforcement learning concepts including MDPs, Q-learning, value functions, and exploration-exploitation trade-offs. Depends on Modules 1 and 4 for preference and mood data.

---

### Module 6: Music Similarity Search using CNN Embeddings

**Topics:** Machine Learning (Convolutional Neural Networks, Neural Network Basics, Embeddings)

**Input:** Query song with audio file path, pre-computed catalog embeddings for all songs in the database, and parameter k specifying number of similar songs to retrieve.

**Output:** Query song's embedding vector and ranked list of top-k similar songs with distance scores indicating similarity strength.

**Integration:** Provides content-based discovery complementing the preference-based recommendations from other modules. Users can select any song from playlists generated by Modules 2-3 or recommended by Module 5 and explore similar tracks through acoustic similarity, discovering music that shares melodic patterns or sonic characteristics regardless of metadata labels.

**Prerequisites:** Machine learning fundamentals including neural networks, CNNs, loss functions, and embedding spaces. No module dependencies; operates independently on audio catalog.

---

## Feasibility Study

Each module is scheduled after its prerequisite content is taught, allowing adequate time for implementation. Modules 1-2 leverage early-semester symbolic AI techniques, Module 3 applies optimization methods learned mid-semester, and Modules 4-6 progressively incorporate modern ML approaches. Each checkpoint has 2-3 weeks of implementation time after learning the required content.

| Module | Required Topic(s) | Topic Covered By | Checkpoint Due |
| ------ | ----------------- | ---------------- | -------------- |
| Module 1: User Preference Modeling | Propositional Logic | Week 1-2 (1.5 weeks) | Checkpoint 1 (Feb 11) |
| Module 2: Playlist Generation via Search | Search Algorithms | Week 2-5 (3 weeks) | Checkpoint 2 (Feb 26) |
| Module 3: Playlist Optimization | Advanced Search/Optimization | Week 7-8 (1 week) | Checkpoint 3 (Mar 19) |
| Module 4: Lyrics Analysis & Mood Classification | NLP | Week 8-11 (3 weeks) | Checkpoint 4 (Apr 2) |
| Module 5: Adaptive Playlist Agent | Reinforcement Learning | Week 11-12 (1.5 weeks) | Checkpoint 5 (Apr 16) |
| Module 6: Music Similarity Search | Machine Learning (CNNs) | Week 12+ (remaining weeks) | Final Demo (Apr 23) |

## Coverage Rationale

This project covers six AI topics spanning symbolic reasoning, search, optimization, and modern machine learning, demonstrating how diverse techniques address complementary challenges in music recommendation systems.

**Propositional Logic** provides the foundation for explicit preference modeling, creating interpretable rules that ensure recommendations align with user tastes. **Search Algorithms** naturally apply to playlist generation, where the goal is finding optimal song sequences through large catalogs—a problem requiring informed search with carefully designed heuristics. **Advanced Search/Optimization** through simulated annealing addresses playlist flow, an NP-hard sequencing problem well-suited to local search methods.

**Natural Language Processing** enables extraction of emotional and thematic content from lyrics, enriching metadata beyond audio features alone. This emotional intelligence complements acoustic analysis. **Reinforcement Learning** captures the adaptive, interactive nature of modern music streaming, where systems must learn from implicit feedback signals to refine recommendations dynamically. **Machine Learning with CNNs** enables content-based discovery through audio embeddings, allowing similarity search based on acoustic characteristics rather than metadata labels.

This progression moves from symbolic, explainable AI techniques toward data-driven, learned representations—mirroring the evolution of AI itself. First-Order Logic was omitted as the music domain's preference modeling needs are adequately captured by propositional logic without requiring quantification over entities. Game Theory, while applicable to collaborative filtering competition, offered less direct integration with the core playlist generation and adaptation pipeline than the selected topics.

The combination satisfies the required coverage of Propositional Logic and Search while exploring five additional techniques, demonstrating both breadth and thematic coherence.
